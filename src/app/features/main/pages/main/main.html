<div class="min-h-screen flex">
    <!-- Mobile Top Bar -->
    <div class="sm:hidden flex justify-between items-center bg-white dark:bg-gray-800 px-4 py-2 shadow">
        <span class="text-lg font-bold text-gray-800 dark:text-white">Crecer index</span>
        <button (click)="showSidebar = !showSidebar" class="text-gray-600 dark:text-gray-200 focus:outline-none ">
            ☰
        </button>
    </div>

    <aside
        class="hidden sm:flex flex-col justify-between fixed top-0 left-0 h-screen w-72 bg-[#002060] text-white p-6 z-50 overflow-y-auto shadow-lg"
        [ngClass]="{
    'translate-x-0': showSidebar || !isMobile,
    '-translate-x-full': !showSidebar && isMobile
  }">
        <!-- Logo en esquina superior -->
        <div class="absolute top-4 left-4">
            <img src="logo_principal.png" alt="Logo Crecer" class="h-9 w-auto bg-white p-1 rounded-md shadow-sm" />
        </div>

        <!-- Avatar y nombre más abajo -->
        <div class="flex flex-col items-center mt-10 mb-8">
            <div
                class="w-16 h-16 rounded-xl bg-gradient-to-tr from-[#a8b1be] to-[#1235b1] text-white flex items-center justify-center text-2xl font-bold shadow-md uppercase">
                {{ user?.nombre?.charAt(0) }}{{ user?.apellido?.charAt(0) }}
            </div>

            <h2 class="text-white mt-4 text-lg font-semibold dark:text-white">
                {{ user?.nombre }} {{ user?.apellido }}
            </h2>
        </div>


        <!-- Navegación -->
        <div class="flex-1 flex flex-col justify-between">
            <nav class="space-y-2">
                <button (click)="navigateAndCloseSidebar('search')"
                    class="w-full flex items-center gap-3 px-4 py-3 rounded-md bg-white/10 hover:bg-white/20 text-white font-medium text-base transition-all">
                    <svg xmlns="http://www.w3.org/2000/svg" width="21" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="lucide lucide-search-icon lucide-search">
                        <path d="m21 21-4.34-4.34" />
                        <circle cx="11" cy="11" r="8" />
                    </svg>
                    <span class="text-white text-base">Buscar</span>
                </button>


            </nav>

            <!-- Cerrar sesión -->
            <div class="mt-6 text-center">
                <button (click)="logout()"
                    class="w-full flex items-center justify-center gap-2 bg-[#FFA323] hover:bg-[#ff9823] text-white font-semibold py-2 px-4 rounded-md transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6A2.25 2.25 0 005.25 5.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M18 12H9m0 0l3-3m-3 3l3 3" />
                    </svg>
                    Cerrar sesión
                </button>

            </div>
        </div>

        <!-- Footer -->
        <div class="text-center text-sm text-gray-500 dark:text-gray-400 mt-8 text-white">
            © {{ currentYear }}
        </div>
    </aside>

    <main
        class="flex-1 overflow-x-hidden flex flex-col px-4 py-8 bg-[#DFEBFA] min-h-screen transition-all duration-300 sm:ml-72"
        [class.blur-sm]="showSidebar && isMobile" [class.pointer-events-none]="showSidebar && isMobile">
        <div class="w-full px-4 sm:px-8">
            <router-outlet></router-outlet>
        </div>
    </main>




</div>